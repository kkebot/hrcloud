(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c0587fd2"],{"19e3":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",{attrs:{type:"flex",align:"middle",gutter:8}},[t.labelText?a("Col",{attrs:{span:t.labelSpan}},[a("div",{style:!t.labelSpan&&{width:t.labelWidth+"px"}},[a("span",[t._v(t._s(t.labelText))])])]):t._e(),a("Col",[a("Upload",{ref:"upload",attrs:{"show-upload-list":!1,action:"",accept:t.accept,"before-upload":t.handleUpload}},[a("Button",{attrs:{disabled:t.disabled,icon:"md-arrow-up",type:t.color}},[t._v(t._s(t.buttonHint))])],1)],1),t.file?a("Col",[a("Button",{attrs:{size:"small",icon:"md-close"},on:{click:function(e){t.file=null}}})],1):t._e()],1),t.file&&t.showSelected?a("div",[a("br"),a("Alert",[t._v("已选择文件:"+t._s(t.file.name))])],1):t._e()],1)},o=[],r=(a("c5f6"),{name:"UploadButton",props:{labelText:{type:String,default:"上传文件"},labelWidth:{type:Number,default:50},accept:{type:String,default:".txt"},buttonText:{type:String,default:"选择本地文件"},showSelected:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},labelSpan:{type:Number,default:null},color:{type:String,default:null}},computed:{buttonHint:function(){return this.file?"重新选择":this.buttonText}},data:function(){return{file:null,labelClazz:{width:this.labelWidth}}},methods:{handleUpload:function(t){return this.file=t,this.$emit("on-file-ready",t),!1},reset:function(){this.file=null}}}),i=r,l=a("2877"),c=Object(l["a"])(i,n,o,!1,null,"7487a8df",null);e["a"]=c.exports},"35ad":function(t,e,a){"use strict";a.d(e,"b",function(){return o}),a.d(e,"a",function(){return r}),a.d(e,"c",function(){return i}),a.d(e,"d",function(){return l});var n=a("b775"),o=function(t,e){return n["a"].post("/api/contract/renew",e,{params:{contractId:t}})},r=function(t,e,a){return n["a"].get("/api/contract/renew",{params:{contractId:t,page:e,size:a}})},i=function(t,e){return n["a"].post("/api/contract/sign",e,{params:{employeeId:t}})},l=function(t,e){return n["a"].post("/api/contract/renew/update",e,{params:{contractRenewId:t}})}},7497:function(t,e,a){},"9f5e":function(t,e,a){},c751:function(t,e,a){"use strict";var n=a("7497"),o=a.n(n);o.a},cde6:function(t,e,a){"use strict";var n=a("9f5e"),o=a.n(n);o.a},d514:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",[a("Divider",{attrs:{orientation:"left"}},[t._v("添加合同")]),a("Row",{attrs:{type:"flex",justify:"space-between",align:"bottom"}},[a("Col",[a("sign-contract-form",{ref:"form",attrs:{"use-button":!0},on:{"on-form-ready":t.sign}})],1),a("Col",[a("Button",{on:{click:t.clear}},[t._v("清除")])],1)],1)],1)},o=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{ref:"form",attrs:{"label-width":100,"label-position":"left",model:t.formData}},[a("FormItem",{staticClass:"form-label-font",attrs:{label:"起始日期",prop:"effectiveOn"}},[a("DatePicker",{attrs:{type:"datetime",editable:!1},model:{value:t.formData.effectiveOn,callback:function(e){t.$set(t.formData,"effectiveOn",e)},expression:"formData.effectiveOn"}})],1),a("FormItem",{staticClass:"form-label-font",attrs:{label:"结束日期",prop:"effectiveUntil"}},[a("DatePicker",{attrs:{type:"datetime",editable:!1},model:{value:t.formData.effectiveUntil,callback:function(e){t.$set(t.formData,"effectiveUntil",e)},expression:"formData.effectiveUntil"}})],1),a("FormItem",{staticClass:"form-label-font",attrs:{label:"描述",prop:"description"}},[a("Input",{model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1)],1),a("upload-button",{ref:"upload",attrs:{accept:".doc,.docx","label-width":100},on:{"on-file-ready":function(e){t.formData.file=e}}}),t.useButton?a("div",[a("br"),a("Button",{attrs:{type:"success",disabled:!t.formData.effectiveOn||!t.formData.effectiveUntil||!t.formData.file},on:{click:t.onOk}},[t._v("确定")])],1):t._e()],1)},i=[],l=a("cebc"),c=a("19e3"),s=a("2934"),f={name:"SignContractForm",components:{UploadButton:c["a"]},props:["contract","useButton"],data:function(){return{formData:this.emptyForm()}},methods:{emptyForm:function(){return Object(l["a"])({effectiveOn:new Date,effectiveUntil:new Date,description:null,file:null},this.contract)},reset:function(){this.formData=this.emptyForm(),this.$refs.upload.reset()},getFormData:function(){return Object(s["b"])(this.formData)},onOk:function(){this.$emit("on-form-ready",this.getFormData()),this.reset()}}},u=f,d=(a("c751"),a("2877")),p=Object(d["a"])(u,r,i,!1,null,"4a5f6d68",null),m=p.exports,b=a("35ad"),h={components:{SignContractForm:m},data:function(){return{employeeId:this.$route.query.employeeId}},methods:{sign:function(t){var e=this;Object(b["c"])(this.employeeId,t).then(function(t){e.$Notice.success({title:"签约成功"}),e.$router.push({name:"EmployeePanel",params:{id:e.employeeId},query:{tab:"contract"}})}).catch(function(t){return e.$Notice.error({title:"签约失败",desc:t.data.message})})},clear:function(){this.$refs.form.reset()}}},v=h,y=(a("cde6"),Object(d["a"])(v,n,o,!1,null,"d1ca1efe",null));e["default"]=y.exports}}]);
//# sourceMappingURL=chunk-c0587fd2.d923a08b.js.map