{"version":3,"sources":["webpack:///./src/components/UploadButton/UploadButton.vue?d4a5","webpack:///src/components/UploadButton/UploadButton.vue","webpack:///./src/components/UploadButton/UploadButton.vue?cfa9","webpack:///./src/components/UploadButton/UploadButton.vue","webpack:///./src/api/position.js","webpack:///./src/pages/organization/position/update/index.vue?f76e","webpack:///src/pages/organization/position/update/index.vue","webpack:///./src/pages/organization/position/update/index.vue?5337","webpack:///./src/pages/organization/position/update/index.vue?7f2c","webpack:///./src/pages/organization/position/PositionForm.vue?4602","webpack:///src/pages/organization/position/PositionForm.vue","webpack:///./src/pages/organization/position/PositionForm.vue?fff0","webpack:///./src/pages/organization/position/PositionForm.vue","webpack:///./src/pages/organization/position/update/index.vue?8fad"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","type","align","gutter","labelText","span","labelSpan","style","width","labelWidth","_v","_s","_e","ref","show-upload-list","action","accept","before-upload","handleUpload","disabled","icon","color","buttonHint","file","size","on","click","$event","showSelected","name","staticRenderFns","UploadButtonvue_type_script_lang_js_","props","String","default","Number","buttonText","Boolean","computed","data","labelClazz","methods","$emit","reset","UploadButton_UploadButtonvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","__webpack_require__","d","setupPositionApi","getPositionApi","getPositionDetailsApi","getPositionAdjustmentsApi","cancelPositionApi","updatePositionApi","_utils_request__WEBPACK_IMPORTED_MODULE_0__","departmentId","formData","request","post","params","positionId","get","concat","page","orientation","position","use-button","on-form-ready","updatePosition","updatevue_type_script_lang_js_","components","PositionForm","$route","query","mounted","_this","then","res","catch","e","$Notice","error","title","status","desc","message","model","_this2","id","_","success","$router","push","position_updatevue_type_script_lang_js_","label-position","label-width","rules","ruleValidate","label","prop","value","callback","$$v","$set","expression","_l","t","key","editable","on-file-ready","isReady","onOk","PositionFormvue_type_script_lang_js_","UploadButton","createdAt","expectedCount","types","required","trigger","objectSpread","defaultForm","$refs","upload","Date","description","form","validate","valid","common","position_PositionFormvue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_iview_loader_index_js_ref_0_2_index_vue_vue_type_style_index_0_id_2607cb09_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_node_modules_iview_loader_index_js_ref_0_2_index_vue_vue_type_style_index_0_id_2607cb09_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-e47f0bac.78b92216.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Row',{attrs:{\"type\":\"flex\",\"align\":\"middle\",\"gutter\":8}},[(!!_vm.labelText)?_c('Col',{attrs:{\"span\":_vm.labelSpan}},[_c('div',{style:(!_vm.labelSpan && {width: _vm.labelWidth+'px'})},[_c('span',[_vm._v(_vm._s(_vm.labelText))])])]):_vm._e(),_c('Col',[_c('Upload',{ref:\"upload\",attrs:{\"show-upload-list\":false,\"action\":\"\",\"accept\":_vm.accept,\"before-upload\":_vm.handleUpload}},[_c('Button',{attrs:{\"disabled\":_vm.disabled,\"icon\":\"md-arrow-up\",\"type\":_vm.color}},[_vm._v(_vm._s(_vm.buttonHint))])],1)],1),(!!_vm.file)?_c('Col',[_c('Button',{attrs:{\"size\":\"small\",\"icon\":\"md-close\"},on:{\"click\":function($event){_vm.file=null}}})],1):_vm._e()],1),(!!_vm.file && _vm.showSelected)?_c('div',[_c('br'),_c('Alert',[_vm._v(\"已选择文件:\"+_vm._s(_vm.file.name))])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Row type=\"flex\" align=\"middle\" :gutter=\"8\">\r\n      <Col v-if=\"!!labelText\" :span=\"labelSpan\">\r\n        <div :style=\"!labelSpan && {width: labelWidth+'px'}\">\r\n          <span>{{ labelText }}</span>\r\n        </div>\r\n      </Col>\r\n      <Col>\r\n        <Upload ref=\"upload\"\r\n                :show-upload-list=\"false\"\r\n                action=\"\"\r\n                :accept=\"accept\"\r\n                :before-upload=\"handleUpload\">\r\n          <Button :disabled=\"disabled\" icon=\"md-arrow-up\" :type=\"color\">{{buttonHint}}</Button>\r\n        </Upload>\r\n      </Col>\r\n      <Col v-if=\"!!file\">\r\n        <Button size=\"small\" @click=\"file=null\" icon=\"md-close\"/>\r\n      </Col>\r\n    </Row>\r\n    <div v-if=\"!!file && showSelected\">\r\n      <br/>\r\n      <Alert>已选择文件:{{ file.name }}</Alert>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"UploadButton\",\r\n  props: {\r\n    labelText: {\r\n      type: String,\r\n      default: '上传文件'\r\n    },\r\n    labelWidth: {\r\n      type: Number,\r\n      default: 50\r\n    },\r\n    accept: {\r\n      type: String,\r\n      default: '.txt'\r\n    },\r\n    buttonText: {\r\n      type: String,\r\n      default: '选择本地文件'\r\n    },\r\n    showSelected: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    labelSpan: {\r\n      type: Number,\r\n      default: null\r\n    },\r\n    color: {\r\n      type: String,\r\n      default: null\r\n    }\r\n  },\r\n  computed: {\r\n    buttonHint() {\r\n      return !!this.file ? '重新选择' : this.buttonText\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      file: null,\r\n      labelClazz: {\r\n        width: this.labelWidth\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleUpload(file) {\r\n      this.file = file;\r\n      this.$emit(\"on-file-ready\", file);\r\n      return false;\r\n    },\r\n    reset() {\r\n      this.file = null\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/iview-loader/index.js??ref--0-2!./UploadButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/iview-loader/index.js??ref--0-2!./UploadButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadButton.vue?vue&type=template&id=7487a8df&scoped=true&\"\nimport script from \"./UploadButton.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7487a8df\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\n\r\n\r\nexport const setupPositionApi = (departmentId, formData) => {\r\n  return request.post(`/api/position`, formData, {params: { departmentId }})\r\n};\r\n\r\nexport const getPositionApi = (positionId) => {\r\n  return request.get(`/api/position/${positionId}`)\r\n};\r\n\r\nexport const getPositionDetailsApi = (positionId) => {\r\n  return request.get(`/api/position/${positionId}/details`)\r\n};\r\n\r\nexport const getPositionAdjustmentsApi = (positionId, page, size) => {\r\n  return request.get(`/api/position/${positionId}/adjustments`, { params: { page, size }})\r\n}\r\n\r\nexport const cancelPositionApi = (positionId) => {\r\n  return request.post(`/api/position/cancel`, \"\", { params: { positionId }})\r\n};\r\n\r\nexport const updatePositionApi = (positionId, formData) => {\r\n  return request.post(`/api/position/update`, formData, { params: { positionId }})\r\n};\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Card',[_c('Divider',{attrs:{\"orientation\":\"left\"}},[_vm._v(\"编辑岗位信息\")]),(!!_vm.position)?[_c('position-form',{attrs:{\"position\":_vm.position,\"use-button\":true},on:{\"on-form-ready\":_vm.updatePosition}})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Card>\r\n    <Divider orientation=\"left\">编辑岗位信息</Divider>\r\n    <template v-if=\"!!position\">\r\n      <position-form\r\n          :position=\"position\"\r\n          @on-form-ready=\"updatePosition\"\r\n          :use-button=\"true\"></position-form>\r\n    </template>\r\n  </Card>\r\n</template>\r\n\r\n<script>\r\n  import PositionForm from \"../PositionForm\";\r\n  import {getPositionApi, updatePositionApi} from \"../../../../api/position\";\r\n\r\n  export default {\r\n    components: {PositionForm},\r\n    data() {\r\n      return {\r\n        positionId: this.$route.query.positionId,\r\n        position: null,\r\n      }\r\n    },\r\n    mounted() {\r\n      getPositionApi(this.positionId).then(res => {\r\n        this.position = res.data\r\n      }).catch(e => this.$Notice.error({title: `获取岗位信息失败${e.status}`, desc: e.data.message}))\r\n    },\r\n    methods: {\r\n      updatePosition(model) {\r\n        const id = this.positionId;\r\n        updatePositionApi(id, model)\r\n          .then(_ => {\r\n            this.$Notice.success({title: \"更新岗位成功\"});\r\n            this.$router.push({name: 'PositionDetails', params: {id}})\r\n          }).catch(e => {\r\n            let title = `更新岗位失败(${e.status})`;\r\n            let desc = e.data.message;\r\n            this.$Notice.error({title, desc});\r\n        });\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  h4, .ivu-divider {\r\n    color: #2b85e4;\r\n  }\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/iview-loader/index.js??ref--0-2!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/iview-loader/index.js??ref--0-2!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2607cb09&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2607cb09&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2607cb09\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Form',{ref:\"form\",attrs:{\"label-position\":\"left\",\"label-width\":80,\"model\":_vm.formData,\"rules\":_vm.ruleValidate}},[_c('FormItem',{attrs:{\"label\":\"职务名称\",\"prop\":\"name\"}},[_c('Input',{model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_c('FormItem',{attrs:{\"label\":\"职务类型\",\"prop\":\"type\"}},[_c('Select',{attrs:{\"disabled\":!!_vm.position},model:{value:(_vm.formData.type),callback:function ($$v) {_vm.$set(_vm.formData, \"type\", $$v)},expression:\"formData.type\"}},_vm._l((_vm.types),function(t){return _c('Option',{key:t,attrs:{\"value\":t}},[_vm._v(_vm._s(t))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"编制人数\",\"prop\":\"expectedCount\"}},[_c('InputNumber',{model:{value:(_vm.formData.expectedCount),callback:function ($$v) {_vm.$set(_vm.formData, \"expectedCount\", $$v)},expression:\"formData.expectedCount\"}})],1),_c('FormItem',{attrs:{\"label\":\"创建时间\",\"prop\":\"createdAt\"}},[_c('DatePicker',{attrs:{\"type\":\"datetime\",\"editable\":false},model:{value:(_vm.formData.createdAt),callback:function ($$v) {_vm.$set(_vm.formData, \"createdAt\", $$v)},expression:\"formData.createdAt\"}})],1),_c('FormItem',{attrs:{\"label\":\"描述\",\"prop\":\"description\"}},[_c('Input',{model:{value:(_vm.formData.description),callback:function ($$v) {_vm.$set(_vm.formData, \"description\", $$v)},expression:\"formData.description\"}})],1)],1),_c('upload-button',{ref:\"upload\",attrs:{\"accept\":\".doc,.docx\",\"label-width\":80},on:{\"on-file-ready\":function($event){_vm.formData.file=$event}}}),(_vm.useButton)?_c('div',[_c('br'),_c('Button',{attrs:{\"type\":\"success\",\"disabled\":!_vm.isReady},on:{\"click\":_vm.onOk}},[_vm._v(\"确定\")])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Form ref=\"form\"\r\n          label-position=\"left\"\r\n          :label-width=\"80\"\r\n          :model=\"formData\"\r\n          :rules=\"ruleValidate\">\r\n      <FormItem label=\"职务名称\" prop=\"name\">\r\n        <Input v-model=\"formData.name\"/>\r\n      </FormItem>\r\n      <FormItem label=\"职务类型\" prop=\"type\">\r\n        <Select v-model=\"formData.type\" :disabled=\"!!position\">\r\n          <Option v-for=\"t in types\" :value=\"t\" :key=\"t\">{{t}}</Option>\r\n        </Select>\r\n      </FormItem>\r\n      <FormItem label=\"编制人数\" prop=\"expectedCount\">\r\n        <InputNumber v-model=\"formData.expectedCount\"/>\r\n      </FormItem>\r\n      <FormItem label=\"创建时间\" prop=\"createdAt\">\r\n        <DatePicker type=\"datetime\" :editable=\"false\" v-model=\"formData.createdAt\"></DatePicker>\r\n      </FormItem>\r\n      <FormItem label=\"描述\" prop=\"description\">\r\n        <Input v-model=\"formData.description\"/>\r\n      </FormItem>\r\n    </Form>\r\n    <upload-button\r\n        accept=\".doc,.docx\"\r\n        ref=\"upload\"\r\n        :label-width=\"80\"\r\n        @on-file-ready=\"formData.file=$event\"/>\r\n    <div v-if=\"useButton\">\r\n      <br/>\r\n      <Button type=\"success\" :disabled=\"!isReady\" @click=\"onOk\">确定</Button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\n  import {obj2form} from \"../../../api/common\";\r\n  import UploadButton from \"../../../components/UploadButton/UploadButton\";\r\n\r\n  export default {\r\n    name: \"PositionForm\",\r\n    components: {UploadButton},\r\n    props: [\r\n      'position', 'useButton'\r\n    ],\r\n    computed: {\r\n      isReady() {\r\n        return !!this.formData.name && !!this.formData.createdAt && !!this.formData.type && !!this.formData.expectedCount;\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        types: [\"行政\", \"管理\", \"后勤\", \"技术\"],\r\n        ruleValidate: {\r\n          name: [{required: true, message: '请输入名称', trigger: 'blur'}],\r\n          type: [{required: true, message: '请选择职务类型'}],\r\n          expectedCount: [\r\n            {required: true, message: '请输入人数'},\r\n          ],\r\n          createdAt: [{required: true, message: '请输入创建时间'}]\r\n        },\r\n        formData: {...this.defaultForm(), ...this.position}\r\n      }\r\n    },\r\n    methods: {\r\n      reset() {\r\n        this.formData = this.defaultForm();\r\n        this.$refs.upload.reset();\r\n      },\r\n      defaultForm() {\r\n        return {\r\n          name: null,\r\n          type: null,\r\n          expectedCount: 1,\r\n          createdAt: new Date(),\r\n          file: null,\r\n          description: null\r\n        }\r\n      },\r\n      onOk() {\r\n        this.$refs.form.validate(valid => {\r\n          if (valid) {\r\n            this.$emit(\"on-form-ready\", obj2form(this.formData));\r\n            this.reset()\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/iview-loader/index.js??ref--0-2!./PositionForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../node_modules/iview-loader/index.js??ref--0-2!./PositionForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PositionForm.vue?vue&type=template&id=0f30804e&\"\nimport script from \"./PositionForm.vue?vue&type=script&lang=js&\"\nexport * from \"./PositionForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/iview-loader/index.js??ref--0-2!./index.vue?vue&type=style&index=0&id=2607cb09&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../node_modules/iview-loader/index.js??ref--0-2!./index.vue?vue&type=style&index=0&id=2607cb09&scoped=true&lang=css&\""],"sourceRoot":""}