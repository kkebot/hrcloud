(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e616476"],{"01b0":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=[{key:"allowance",name:"津贴"},{key:"salary",name:"基础工资"},{key:"bonus",name:"奖金"},{key:"overtimePay",name:"加班工资"},{key:"backPay",name:"欠发工资"},{key:"payRaise",name:"加薪"},{key:"payCut",name:"减薪"}],a=function(){return r}},"0c6a":function(t,e,n){"use strict";var r=n("1428"),a=n.n(r);a.a},"0e8f":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return c}),n.d(e,"h",function(){return d}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return f}),n.d(e,"g",function(){return p});var r=n("b775"),a=function(t){return r["a"].get("/api/department/".concat(t))},i=function(t){return r["a"].get("/api/department/".concat(t,"/details"))},o=function(){return r["a"].get("/api/department")},s=function(t){return r["a"].get("/api/department/".concat(t,"/positions"))},u=function(t){return r["a"].get("/api/department/".concat(t,"/subordinates"))},c=function(t,e){return r["a"].get("/api/department/".concat(t,"/statistics"),{params:{period:e}})},d=function(t,e){return r["a"].post("/api/department",e,{params:{departmentId:t}})},l=function(t){return r["a"].post("/api/department/shutdown","",{params:{departmentId:t}})},f=function(t,e){return r["a"].post("/api/department/update",e,{params:{departmentId:t}})},p=function(t,e){return r["a"].get("/api/department/admin",{params:{entityType:t,entityId:e}})}},"0fd1":function(t,e,n){"use strict";var r=n("bd2a"),a=n.n(r);a.a},1386:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Row",{attrs:{type:"flex",gutter:10}},[n("Col",{attrs:{span:"8"}},[n("Card",[t.statistics?n("div",{staticClass:"wage-pie-chart"},[n("pie-chart",{attrs:{"series-data":t.principal,indicators:t.indicators,title:"支出分布"}})],1):t._e()])],1),n("Col",{attrs:{span:"16"}},[t.earnings?n("Card",[n("bar-chart",{attrs:{title:"合计人数分布",indicators:t.earnings.labels,"series-data":t.earnings.distribution}})],1):t._e()],1)],1),n("br"),t.statistics?n("div",[n("subordinate-statistic",{attrs:{"department-id":t.departmentId,period:t.period}})],1):t._e(),n("br"),n("Card",[n("Divider",{attrs:{orientation:"left"}},[t._v("员工薪资排序")]),n("wage-table",{attrs:{simple:!0,"load-data":t.loadTopData}})],1),n("br")],1)},a=[],i=(n("ac6a"),n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-chart",{ref:"chart",staticClass:"my-chart",attrs:{theme:"macarons",options:t.pie}})}),o=[],s=n("9ca8"),u=(n("c037"),n("b11c"),n("d28f"),n("007d"),n("627c"),{name:"PieChart",components:{"v-chart":s["a"]},props:{title:{type:String,default:""},seriesData:{type:Array,default:function(){return[]}},indicators:{type:Array,default:function(){return[]}},roseType:{type:String|Boolean,default:null},radius:{type:Array|String,default:function(){return"55%"}}},mounted:function(){var t=this;setTimeout(function(){window.addEventListener("resize",function(){t.$refs.chart.resize()})},10)},data:function(){return{pie:{title:{text:this.title},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},legend:{data:this.indicators,bottom:5},toolbox:{feature:{saveAsImage:{}}},calculable:!0,series:[{type:"pie",roseType:this.roseType,radius:this.radius,center:["50%","50%"],data:this.seriesData,animationEasing:"cubicInOut",animationDuration:2e3}]}}}}),c=u,d=(n("18c07"),n("2877")),l=Object(d["a"])(c,i,o,!1,null,"2ec01913",null),f=l.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-chart",{ref:"chart",staticClass:"my-chart",attrs:{theme:"macarons",options:t.bar}})},m=[],h=(n("94b1"),{name:"BarChart",components:{"v-chart":s["a"]},mounted:function(){var t=this;setTimeout(function(){window.addEventListener("resize",function(){t.$refs.chart.resize()})},10)},props:{title:{type:String,default:""},toolbox:{feature:{saveAsImage:{}}},seriesData:{type:Array,default:function(){return[]}},indicators:{type:Array,default:function(){return[]}}},data:function(){return{bar:{title:{text:this.title},tooltip:{trigger:"item",formatter:"{b} : {c}"},xAxis:{type:"category",data:this.indicators},yAxis:{type:"value",splitLine:{lineStyle:{type:"dashed"}}},series:[{data:this.seriesData,type:"bar"}]}}}}),y=h,b=(n("b022"),Object(d["a"])(y,p,m,!1,null,"64090756",null)),g=b.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.finished?n("div",[n("Row",{attrs:{type:"flex",align:"middle",gutter:10}},[n("Col",{attrs:{span:"8"}},[n("Card",[n("div",{staticClass:"wage-pie-chart"},[n("pie-chart",{attrs:{"series-data":t.subSum,indicators:t.subNames,title:"下级支出分布"}})],1)])],1),n("Col",{attrs:{span:"8"}},[n("Card",[n("pie-chart",{attrs:{title:"下级人数分布","series-data":t.subEmployeeCounts,indicators:t.subNames,radius:[30,90]}})],1)],1),n("Col",{attrs:{span:"8"}},[n("Card",[n("bar-chart",{attrs:{title:"平均员工薪资","series-data":t.subAverage,indicators:t.subNames}})],1)],1)],1),n("br"),n("Card",[n("stack-bar-chart",{attrs:{title:"下级支出详情",terms:t.stackTerms,indicators:t.subNames,"series-data":t.statistics}})],1)],1):t._e()},k=[],w=(n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-chart",{ref:"chart",staticClass:"my-chart",attrs:{theme:"macarons",options:t.bar}})}),x=[],D={name:"StackBarChart",components:{"v-chart":s["a"]},mounted:function(){var t=this;setTimeout(function(){window.addEventListener("resize",function(){t.$refs.chart.resize()})},10)},props:{title:{type:String,default:""},seriesData:{type:Array,default:function(){return[]}},indicators:{type:Array,default:function(){return[]}},terms:{type:Array,default:function(){return[]}},showLabels:{type:Boolean,default:!1}},data:function(){return{bar:{title:{text:this.title},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:this.terms},xAxis:{type:"value",splitLine:{lineStyle:{type:"dashed"}},axisLabel:{formatter:function(t){return t.toFixed(2)}}},yAxis:{type:"category",data:this.indicators},series:this.getSeries()}}},methods:{getSeries:function(){var t=this;return this.terms.map(function(e){return{name:e.name,type:"bar",stack:"合计",label:{normal:{show:t.showLabels,position:"insideRight"}},data:t.seriesData.map(function(t){return t[e.key]})}})}}},C=D,O=(n("0fd1"),Object(d["a"])(C,w,x,!1,null,"c8fcedd6",null)),j=O.exports,_=n("edc0"),P=n("0e8f"),S=n("01b0"),E={name:"SubordinateStatistic",components:{BarChart:g,PieChart:f,StackBarChart:j},props:{departmentId:{type:String|Number},period:{type:String}},data:function(){return{statistics:[],subordinates:[],finished:!1,stackTerms:Object(S["a"])()}},computed:{subNames:function(){return this.subordinates.map(function(t){return t.name})},subEmployeeCounts:function(){var t=this.statistics;return this.subNames.map(function(e,n){return{value:Object(_["b"])(t[n].countEmployee),name:e}})},subAverage:function(){return this.statistics.map(function(t){return Object(_["b"])(t.earnings/t.countEmployee)})},subSum:function(){var t=this.statistics;return this.subNames.map(function(e,n){return{value:Object(_["b"])(t[n].earnings),name:e}})},terms:function(){return this.stackTerms.map(function(t){return t.name})}},mounted:function(){var t=this,e=this.departmentId,n=this.period,r=this.statistics;e&&Object(P["e"])(e).then(function(e){t.subordinates=e.data;var a=0;t.subordinates.forEach(function(e,i){var o=e.id;r.push({}),Object(P["f"])(o,n).then(function(e){r[i]=e.data,a+=1,a===t.subordinates.length&&(t.finished=!0)})})})}},$=E,I=Object(d["a"])($,v,k,!1,null,"31916d48",null),M=I.exports,A=n("e9b8"),F=n("3f9f"),R=n("2934"),T={components:{WageTable:A["a"],SubordinateStatistic:M,BarChart:g,PieChart:f},data:function(){return{departmentId:this.$route.query.departmentId,period:this.$route.query.period,statistics:null,terms:Object(S["a"])(),earnings:null}},computed:{principal:function(){var t=this.statistics;return this.terms.map(function(e){var n=e.key,r=e.name;return{name:r,value:t[n]}})},indicators:function(){return this.terms.map(function(t){return t.name})}},mounted:function(){var t=this,e=this.departmentId,n=this.period;Object(P["f"])(e,n).then(function(r){var a=r.data;console.log({s:a}),!a||a.blur?Object(F["d"])(e,n).then(function(e){return t.statistics=e.data}):t.statistics=a}).catch(function(e){return t.$Notice.error({title:"获取统计信息失败".concat(e.status),desc:e.data.message})}),this.fetchSubStatistics()},methods:{fetchSubStatistics:function(){var t=this,e=this.departmentId,n=this.period;Object(F["a"])(e,n).then(function(e){var n=e.data.distribution,r=[],a=n.length;n.forEach(function(t,e){return r.push("".concat((e+1)/a*100,"%"))}),t.earnings={distribution:n,labels:r}}).catch(function(e){return t.$Notice.error({title:"获取薪资分布失败".concat(e.status),desc:e.data.message})})},loadTopData:function(t,e,n){var r,a,i=this,o="department",s=this.period,u=this.departmentId;r=a=Object(R["a"])(new Date(s)),Object(F["c"])({entityType:o,entityId:u,from:r,to:a,page:t,size:e}).then(function(t){var e=t.data,r=e.content,a=e.totalElements;n(r,a)}).catch(function(t){return i.$Notice.error({title:"获取薪资失败(".concat(t.status,")"),desc:t.data.message})})}}},z=T,B=(n("0c6a"),Object(d["a"])(z,r,a,!1,null,"4ef3e333",null));e["default"]=B.exports},1428:function(t,e,n){},"16db":function(t,e,n){},"18c07":function(t,e,n){"use strict";var r=n("16db"),a=n.n(r);a.a},"20d6":function(t,e,n){"use strict";var r=n("5ca1"),a=n("0a49")(6),i="findIndex",o=!0;i in[]&&Array(1)[i](function(){o=!1}),r(r.P+r.F*o,"Array",{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(i)},2105:function(t,e,n){},"2db4":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t,e){return!t||t.length<=e?t||"":t.slice(0,e)+"..."}},"2fdb":function(t,e,n){"use strict";var r=n("5ca1"),a=n("d2c8"),i="includes";r(r.P+r.F*n("5147")(i),"String",{includes:function(t){return!!~a(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"3f9f":function(t,e,n){"use strict";n.d(e,"e",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return u}),n.d(e,"g",function(){return c}),n.d(e,"f",function(){return d}),n.d(e,"b",function(){return l});var r=n("b775"),a=n("2934"),i=function(t,e){return r["a"].post("/api/wage/update",e,{params:{wageId:t}})},o=function(t,e){return r["a"].post("/api/wage/statistic/update","",{params:{period:e,departmentId:t}})},s=function(t){return r["a"].get("/api/wage",{params:t})},u=function(t,e){return r["a"].get("/api/wage/distribute",{params:{departmentId:t,period:e}})},c=function(t,e){return r["a"].post("/api/wage/upload/current",Object(a["b"])({departmentId:t,file:e}))},d=function(t){return r["a"].post("/api/wage/upload/raw",Object(a["b"])({file:t}))},l=function(t,e,n){return r["a"].get("/api/wage/upload/result",{params:{importTimestamp:t,page:e,size:n}})}},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(a){}}return!0}},6762:function(t,e,n){"use strict";var r=n("5ca1"),a=n("c366")(!0);r(r.P,"Array",{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"76b6":function(t,e,n){},8454:function(t,e,n){"use strict";n.d(e,"e",function(){return r}),n.d(e,"h",function(){return a}),n.d(e,"d",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return s}),n.d(e,"g",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"f",function(){return d});n("7f7f");var r=function(t){return t?"".concat(t.name,"(").concat(t.id,")"):"/"},a=function(t){return t?"￥".concat(t.salary,"(").concat(t.id,")"):"/"},i=function(t){return t?"在职":"离职"},o=function(t){return t?"正在生效":"已撤销"},s=function(t){return t?"正在生效":"已终止"},u=o,c=function(t){return new Date(t).toLocaleString()},d=function(t){var e=new Date(t),n=e.getUTCMonth()+1,r=e.getUTCFullYear();return r+"年 "+n+"月"}},b022:function(t,e,n){"use strict";var r=n("76b6"),a=n.n(r);a.a},bd2a:function(t,e,n){},d2c8:function(t,e,n){var r=n("aae3"),a=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(a(t))}},dd99:function(t,e,n){"use strict";var r=n("2105"),a=n.n(r);a.a},e9b8:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("page-data",{ref:"table",attrs:{columns:t.columns,"load-data":t.loadData}},[t._t("default")],2),t.wageRecord?[n("Modal",{attrs:{"footer-hide":!0,title:"编辑工资"},model:{value:t.editModal,callback:function(e){t.editModal=e},expression:"editModal"}},[n("wage-form",{key:t.wageRecord.id,attrs:{"use-button":!0,wage:t.wageRecord},on:{"on-wage-ok":t.onSubmitWage}})],1),n("Modal",{attrs:{title:"查看工资"},model:{value:t.checkModal,callback:function(e){t.checkModal=e},expression:"checkModal"}},[n("wage-form",{key:t.wageRecord.id,attrs:{"use-button":!1,wage:t.wageRecord,readonly:!0}})],1)]:t._e()],2)},a=[],i=n("cebc"),o=(n("20d6"),n("6762"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Form",{ref:"form",attrs:{model:t.formData,"label-position":"left","label-width":80,rules:t.ruleValidate}},[n("FormItem",{attrs:{label:"核算月份",prop:"period"}},[n("DatePicker",{attrs:{disabled:!t.isSetup,editable:!1,format:"yyyy/MM"},on:{"on-change":function(e){t.formData.period=e}},model:{value:t.formData.period,callback:function(e){t.$set(t.formData,"period",e)},expression:"formData.period"}})],1),t._l(t.numericFormFields,function(e){return n("FormItem",{attrs:{label:e.title,prop:e.key}},[n("Input",{attrs:{readonly:t.readonly},model:{value:t.formData[e.key],callback:function(n){t.$set(t.formData,e.key,n)},expression:"formData[f.key]"}})],1)})],2),n("Row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("Col",[t.useButton?n("Button",{attrs:{type:"success"},on:{click:t.onOk}},[t._v("确定")]):t._e()],1),n("Col",[n("p",[n("b",[t._v("合计")]),t._v(": ￥"+t._s(t._f("numFilter")(t.earnings)))])])],1)],1)}),s=[],u=(n("c5f6"),function(t,e){var n={};return c(t,function(t,r){return e(t,r)&&(n[t]=r)}),n}),c=function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])},d={type:"number",message:"请输入数字",trigger:"blur",transform:function(t){return Number(t)}},l=[{key:"salary",title:"基本工资"},{key:"bonus",title:"奖金"},{key:"allowance",title:"津贴"},{key:"overtimePay",title:"加班工资"},{key:"backPay",title:"欠发工资"},{key:"payRaise",title:"加薪"},{key:"payCut",title:"减薪"}],f=l.map(function(t){return t.key}),p={name:"WageForm",props:["wage","readonly","useButton"],computed:{isSetup:function(){return!this.wage.id},earnings:{get:function(){var t=this;return f.reduce(function(e,n){return e+=Number(t.formData[n]),e},0)},set:function(t){}}},filters:{numFilter:function(t){var e=Number(t).toFixed(3),n=e.substring(0,e.length-1);return Number(n)}},data:function(){return{formData:Object(i["a"])({period:this.wage.period},u(this.wage,function(t,e){return-1!==f.indexOf(t)})),numericFormFields:l.slice(),ruleValidate:f.reduce(function(t,e){return t[e]=[d],t},{})}},methods:{onOk:function(){var t=this;this.$refs.form.validate(function(e){return!!e&&t.$emit("on-wage-ok",t.formData)})}}},m=p,h=n("2877"),y=Object(h["a"])(m,o,s,!1,null,"5a8fc5f2",null),b=y.exports,g=n("3f9f"),v=n("f867"),k=n("8454"),w=n("2db4"),x=function(t){return function(e,n){var r=n.row;return e("span",r[t].toFixed(2))}},D={name:"WageTable",components:{PageData:v["a"],WageForm:b},data:function(){var t=this,e=[{title:"核算周期",key:"period",render:function(t,e){var n=e.row;return t("span",Object(k["f"])(n.period))},exportData:function(t){return Object(k["f"])(t.period)},minWidth:20},{title:"员工",key:"employee",render:function(e,n){var r=n.row;return e("Button",{props:{size:"small"},on:{click:function(){return t.$router.push({name:"EmployeePanel",params:{id:r.employee.id},query:{tab:"wage_record"}})}}},Object(w["a"])(Object(k["e"])(r.employee),5))},exportData:function(t){return Object(k["e"])(t.employee)},minWidth:40},{title:"时任职务",key:"currentPosition",render:function(e,n){var r=n.row;return t.renderPosition(e,r.currentPosition)},exportData:function(t){return Object(k["e"])(t.currentPosition)},minWidth:40},{title:"薪级",key:"currentScale",render:function(t,e){var n=e.row;return t("Tag",Object(k["h"])(n.currentScale))},exportData:function(t){return Object(k["h"])(t.currentScale)},minWidth:40},{title:"基本工资",key:"salary",render:x("salary")},{title:"奖金",key:"bonus",render:x("bonus")},{title:"津贴",key:"allowance",render:x("allowance")},{title:"加班工资",key:"overtimePay",render:x("overtimePay")},{title:"欠发工资",key:"backPay",render:x("backPay")},{title:"加薪",key:"payRaise",render:x("payRaise")},{title:"减薪",key:"payCut",render:x("payCut")},{title:"合计",key:"earnings",render:x("earnings"),minWidth:15},{title:"查看",key:"check",render:function(e,n){var r=n.row;return e("Button",{props:{icon:"md-search",size:"small",type:"info"},on:{click:function(){return(t.wageRecord=r)&&(t.checkModal=!0)}}})},noExport:!0},{title:"操作",key:"operations",render:function(e,n){var r=n.row;return e("Button",{props:{icon:"md-create",size:"small"},on:{click:function(){return(t.wageRecord=r)&&(t.editModal=!0)}}})},noExport:!0}],n=["period","employee","currentPosition","currentScale","earnings","check","operations"],r=this.simple?e.filter(function(t){return n.includes(t.key)}):e;return{columns:this.useOperations?r:r.slice(0,-1),editModal:!1,checkModal:!1,wageRecord:null}},props:{simple:{type:Boolean,default:!1},loadData:{type:Function,default:function(){return function(t,e,n){n([],0)}}},useOperations:{type:Boolean,default:!0}},methods:{onSubmitWage:function(t){var e=this;this.editModal=!1,Object(g["e"])(this.wageRecord.id,t).then(function(t){var n=e.$refs.table.getData(),r=n.findIndex(function(t){return t.id===e.wageRecord.id});e.$set(n,r,Object(i["a"])({},n[r],t.data)),e.$Notice.success({title:"更新工资成功"})}).catch(function(t){return e.$Notice.error({title:"更新工资失败".concat(t.status),desc:t.data.message})})},resetPage:function(){this.$refs.table.resetPage()},renderPosition:function(t,e){var n=this;return e?t("Button",{props:{size:"small",type:"primary"},on:{click:function(){return n.$router.push({name:"PositionDetails",params:{id:e.id}})}}},Object(w["a"])(Object(k["e"])(e),5)):t("span","/")}}},C=D,O=Object(h["a"])(C,r,a,!1,null,"bc668ca8",null);e["a"]=O.exports},edc0:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return a});n("20d6");var r=function(t){return Math.round(100*t)/100},a=function(t,e){var n=[1,3,5,7,8,10,12,4,6,9,11,2],r=new Date(t),a=new Date(e),i=a.getFullYear()-r.getFullYear(),o=a.getMonth()-r.getMonth(),s=a.getDate()-r.getDate();if(o<0&&(i--,o=a.getMonth()+(12-r.getMonth())),s<0){o--;var u,c=n.findIndex(function(t){return t===r.getMonth()+1});u=c<=6?31:c>6&&c<=10?30:28,s=a.getDate()+(u-r.getDate())}return{year:i,month:o,day:s}}},f867:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Row",{attrs:{type:"flex",align:"middle",justify:"space-between"}},[n("Col",{attrs:{span:"12"}},[n("Row",{attrs:{type:"flex",gutter:5}},[n("Col",[t.useExport?n("Button",{attrs:{type:"success"},on:{click:t.onExport}},[t._v("导出CSV")]):t._e()],1),n("Col",[n("Select",{attrs:{multiple:"","max-tag-count":3,placeholder:"选择显示列"},on:{"on-change":t.showColumns},model:{value:t.keys,callback:function(e){t.keys=e},expression:"keys"}},t._l(t.columns,function(e){return n("Option",{key:e.key,attrs:{value:e.key}},[t._v(t._s(e.title))])}),1)],1)],1)],1),n("Col",[t._t("default")],2)],1),n("br"),n("Table",{ref:"table",staticClass:"query-list__table",attrs:{columns:t.displayed,data:t.content},on:{"on-row-dblclick":function(e){return t.$emit("on-db-click",e)}}}),n("br"),n("Row",{attrs:{type:"flex",justify:"end"}},[n("Col",[n("Page",{attrs:{current:t.page,total:t.totalElements,"page-size":t.size,"show-sizer":"","show-total":""},on:{"on-change":function(e){return t.onPage(e,t.size)},"on-page-size-change":function(e){return t.onPage(t.page,e)}}})],1)],1)],1)},a=[],i=(n("6762"),n("2fdb"),n("ac6a"),{name:"PageData",props:{columns:{type:Array,default:function(){return[]}},loadData:{type:Function,default:function(){return function(t,e,n){n([],0)}}},useExport:{type:Boolean,default:!0}},data:function(){return{keys:this.columns.map(function(t){return t.key}),displayed:this.columns.slice(),page:1,size:10,totalElements:1,content:[]}},mounted:function(){this.resetPage()},methods:{onExport:function(){var t=this;this.$refs.table.exportCsv({filename:"temp.csv",original:!1,columns:this.displayed,data:this.content.map(function(e){var n={};return t.displayed.forEach(function(t){t.noExport||(t.exportData?n[t.key]=t.exportData(e):n[t.key]=e[t.key])}),n})})},showColumns:function(){var t=this;this.displayed=this.columns.filter(function(e){return t.keys.includes(e.key)})},resetPage:function(){this.onPage(1,10)},onPage:function(t,e){this.page=t,this.size=e,this.fetchPage()},fetchPage:function(){var t=this,e=this.page,n=this.size;this.loadData(e-1,n,function(e,n){t.totalElements=n,t.content=e})},getData:function(){return this.content}}}),o=i,s=(n("dd99"),n("2877")),u=Object(s["a"])(o,r,a,!1,null,"8d711b90",null);e["a"]=u.exports}}]);
//# sourceMappingURL=chunk-6e616476.61277833.js.map