(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-559359b4"],{"01ab":function(e,t,a){},"19e3":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",{attrs:{type:"flex",align:"middle",gutter:8}},[e.labelText?a("Col",{attrs:{span:e.labelSpan}},[a("div",{style:!e.labelSpan&&{width:e.labelWidth+"px"}},[a("span",[e._v(e._s(e.labelText))])])]):e._e(),a("Col",[a("Upload",{ref:"upload",attrs:{"show-upload-list":!1,action:"",accept:e.accept,"before-upload":e.handleUpload}},[a("Button",{attrs:{disabled:e.disabled,icon:"md-arrow-up",type:e.color}},[e._v(e._s(e.buttonHint))])],1)],1),e.file?a("Col",[a("Button",{attrs:{size:"small",icon:"md-close"},on:{click:function(t){e.file=null}}})],1):e._e()],1),e.file&&e.showSelected?a("div",[a("br"),a("Alert",[e._v("已选择文件:"+e._s(e.file.name))])],1):e._e()],1)},n=[],o=(a("c5f6"),{name:"UploadButton",props:{labelText:{type:String,default:"上传文件"},labelWidth:{type:Number,default:50},accept:{type:String,default:".txt"},buttonText:{type:String,default:"选择本地文件"},showSelected:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},labelSpan:{type:Number,default:null},color:{type:String,default:null}},computed:{buttonHint:function(){return this.file?"重新选择":this.buttonText}},data:function(){return{file:null,labelClazz:{width:this.labelWidth}}},methods:{handleUpload:function(e){return this.file=e,this.$emit("on-file-ready",e),!1},reset:function(){this.file=null}}}),l=o,i=a("2877"),u=Object(i["a"])(l,r,n,!1,null,"7487a8df",null);t["a"]=u.exports},"1cbe":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"us-basic"},[a("Form",{ref:"form",staticClass:"us-basic__form",attrs:{model:e.formData,rules:e.ruleValidate},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onOk(t)}}},[a("Row",{attrs:{type:"flex",gutter:30}},[a("Col",{attrs:{span:"12"}},[a("div",[a("Divider",{attrs:{orientation:"left"}},[e._v("基本信息")]),a("FormItem",{attrs:{label:"姓名",prop:"name"}},[a("Input",{attrs:{placeholder:"请输入中文名"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("FormItem",{attrs:{label:"证件号码",prop:"credential"}},[a("Input",{model:{value:e.formData.credential,callback:function(t){e.$set(e.formData,"credential",t)},expression:"formData.credential"}})],1),a("FormItem",{attrs:{label:"性别",prop:"gender"}},[a("RadioGroup",{model:{value:e.formData.gender,callback:function(t){e.$set(e.formData,"gender",t)},expression:"formData.gender"}},[a("Radio",{attrs:{label:"男"}}),a("Radio",{attrs:{label:"女"}})],1)],1),a("FormItem",{attrs:{label:"出生日期",prop:"birth"}},[a("DatePicker",{attrs:{editable:!1,type:"date"},model:{value:e.formData.birth,callback:function(t){e.$set(e.formData,"birth",t)},expression:"formData.birth"}})],1)],1)]),a("Col",{attrs:{span:"12"}},[a("div",[a("Divider",{attrs:{orientation:"left"}},[e._v("教育信息")]),a("FormItem",{attrs:{label:"学历",prop:"education"}},[a("Select",{model:{value:e.formData.education,callback:function(t){e.$set(e.formData,"education",t)},expression:"formData.education"}},e._l(e.educations,function(t){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}),1)],1),a("FormItem",{attrs:{label:"毕业院校",prop:"college"}},[a("Input",{model:{value:e.formData.college,callback:function(t){e.$set(e.formData,"college",t)},expression:"formData.college"}})],1),a("FormItem",{attrs:{label:"专业",prop:"major"}},[a("Input",{model:{value:e.formData.major,callback:function(t){e.$set(e.formData,"major",t)},expression:"formData.major"}})],1),a("FormItem",{attrs:{label:"毕业时间",prop:"graduateTime"}},[a("DatePicker",{model:{value:e.formData.graduateTime,callback:function(t){e.$set(e.formData,"graduateTime",t)},expression:"formData.graduateTime"}})],1),a("FormItem",{attrs:{label:"学位",prop:"degree"}},[a("Select",{model:{value:e.formData.degree,callback:function(t){e.$set(e.formData,"degree",t)},expression:"formData.degree"}},e._l(e.degrees,function(t){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}),1)],1)],1)])],1),a("Row",{attrs:{type:"flex",gutter:30}},[a("Col",{attrs:{span:"12"}},[a("div",[a("Divider",{attrs:{orientation:"left"}},[e._v("联系方式")]),a("FormItem",{attrs:{label:"邮箱",prop:"email"}},[a("Input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}})],1),a("FormItem",{attrs:{label:"住址",prop:"address"}},[a("Input",{model:{value:e.formData.address,callback:function(t){e.$set(e.formData,"address",t)},expression:"formData.address"}})],1),a("Collapse",[a("Panel",[e._v("\n              手机号码\n              "),a("template",{slot:"content"},[e._l(e.formData.phoneNumbers,function(t,r){return a("FormItem",{key:r,attrs:{label:"手机 "+(r+1)}},[a("Input",{attrs:{type:"text"},model:{value:e.formData.phoneNumbers[r],callback:function(t){e.$set(e.formData.phoneNumbers,r,t)},expression:"formData.phoneNumbers[index]"}},[a("Button",{attrs:{slot:"append",icon:"md-close",type:"error"},on:{click:function(t){return e.handleRemove(r)}},slot:"append"})],1)],1)}),a("FormItem",[a("Button",{attrs:{type:"dashed",long:"",icon:"md-add"},on:{click:e.handleAdd}},[e._v("添加一个手机号码")])],1)],2)],2)],1)],1)]),a("Col",{attrs:{span:"12"}},[a("div",[a("Divider",{attrs:{orientation:"left"}},[e._v("其他信息")]),a("FormItem",{attrs:{label:"入职时间",prop:"entryTime"}},[a("DatePicker",{model:{value:e.formData.entryTime,callback:function(t){e.$set(e.formData,"entryTime",t)},expression:"formData.entryTime"}})],1),a("FormItem",{attrs:{label:"招聘方式",prop:"recruitment"}},[a("Input",{model:{value:e.formData.recruitment,callback:function(t){e.$set(e.formData,"recruitment",t)},expression:"formData.recruitment"}})],1),a("FormItem",{attrs:{label:"政治面貌",prop:"politicalStatus"}},[a("Select",{model:{value:e.formData.politicalStatus,callback:function(t){e.$set(e.formData,"politicalStatus",t)},expression:"formData.politicalStatus"}},e._l(e.politicalStatusTypes,function(t){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}),1)],1),a("FormItem",{attrs:{label:"婚姻状况",prop:"marriage"}},[a("Select",{model:{value:e.formData.marriage,callback:function(t){e.$set(e.formData,"marriage",t)},expression:"formData.marriage"}},e._l(e.marriages,function(t){return a("Option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}),1)],1)],1)])],1),a("Divider",{attrs:{orientation:"left"}},[e._v("附件")]),a("Collapse",[a("Panel",[e._v("\n        上传附件\n        "),a("div",{attrs:{slot:"content"},slot:"content"},[e._l(e.uploads,function(e){return[a("upload-button",{attrs:{accept:e.accept,"label-text":e.text,"label-width":100},on:{"on-file-ready":function(t){e.file=t}}}),a("br")]})],2)])],1)],1),a("Divider"),a("Button",{attrs:{type:"success"},on:{click:e.onOk}},[e._v("确定")])],1)},n=[],o=(a("4917"),a("ac6a"),a("cebc")),l=a("2934"),i=a("19e3"),u={name:"EmployeeImportForm",components:{UploadButton:i["a"]},props:["profile"],data:function(){return{ruleValidate:{name:[{required:!0,message:"请输入中文名",trigger:"blur",min:2,max:4}],credential:[{required:!0,message:"请输入有效的身份证号码",trigger:"blur"},{validator:c}],email:[{type:"email",message:"邮箱格式不正确",trigger:"blur"}]},formData:Object(o["a"])({},this.emptyForm(),this.profile),marriages:["已婚","未婚","离婚","丧偶"],degrees:["其它","学士","硕士","博士"],educations:["其它","小学","初中","中专","高中","专科","本科","硕士研究生","博士研究生"],politicalStatusTypes:["共青团员","群众","党员"],uploads:[{text:"个人照片",accept:".jpg,.jpeg,.png"},{text:"入职通知书",accept:".doc,.docx"},{text:"毕业证书",accept:".doc,.docx"},{text:"入职审批表",accept:".doc,.docx"},{text:"户口本",accept:".doc,.docx"},{text:"结婚证",accept:".doc,.docx"},{text:"资格证书",accept:".doc,.docx"},{text:"身份证",accept:".doc,.docx"}]}},methods:{onOk:function(){var e=this;this.$refs.form.validate(function(t){if(t){var a=Object(l["b"])(e.formData);e.uploads.forEach(function(e){e.file&&(a.append("attachmentTypes",e.text),a.append("files",e.file))}),e.$emit("on-form-ready",a)}})},emptyForm:function(){return{name:null,credential:null,gender:null,birth:null,college:null,degree:null,education:null,major:null,graduateTime:null,phoneNumbers:[],email:null,address:null,entryTime:new Date,recruitment:null,politicalStatus:null,marriage:null}},handleAdd:function(){this.formData.phoneNumbers.push("")},handleRemove:function(e){this.formData.phoneNumbers.splice(e,1)}}},c=function(e,t,a){s(t)?a():a(new Error("请输入有效的身份证"))};function s(e){var t={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};return""!==e&&(!1!==m(e)&&(!1!==p(e,t)&&(!1!==d(e)&&!1!==b(e))))}function m(e){var t=/(^\d{15}$)|(^\d{17}(\d|X|x)$)/;return!1!==t.test(e)}function p(e,t){var a=e.substr(0,2);return void 0!=t[a]}function d(e){var t=e.length;if("15"==t){var a=/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/,r=e.match(a),n=r[2],o=r[3],l=r[4],i=new Date("19"+n+"/"+o+"/"+l);return f("19"+n,o,l,i)}if("18"==t){var u=/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X|x)$/,c=e.match(u),s=c[2],m=c[3],p=c[4],d=new Date(s+"/"+m+"/"+p);return f(s,m,p,d)}return!1}function f(e,t,a,r){var n=new Date,o=n.getFullYear();if(r.getFullYear()==e&&r.getMonth()+1==t&&r.getDate()==a){var l=o-e;return l>=0&&l<=100}return!1}function b(e){e=v(e);var t=e.length;if("18"==t){var a,r=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],n=["1","0","X","9","8","7","6","5","4","3","2"],o=0;for(a=0;a<17;a++)o+=e.substr(a,1)*r[a];var l=n[o%11];return l==e.substr(17,1).toLocaleUpperCase()}return!1}function v(e){if("15"==e.length){var t=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],a=["1","0","X","9","8","7","6","5","4","3","2"],r=0;e=e.substr(0,6)+"19"+e.substr(6,e.length-6);for(var n=0;n<17;n++)r+=e.substr(n,1)*t[n];return e+=a[r%11],e}return e}var y=u,g=(a("67c6"),a("2877")),h=Object(g["a"])(y,r,n,!1,null,"468b2609",null);t["a"]=h.exports},"67c6":function(e,t,a){"use strict";var r=a("01ab"),n=a.n(r);n.a},ccb0:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",[e.employee?a("employee-import-form",{attrs:{profile:e.employee},on:{"on-form-ready":e.onUpdateEmployee}}):e._e()],1)},n=[],o=a("ef75"),l=a("1cbe"),i={components:{EmployeeImportForm:l["a"]},data:function(){return{employee:null,employeeId:this.$route.query.employeeId}},mounted:function(){var e=this;this.employeeId&&Object(o["g"])(this.employeeId).then(function(t){return e.employee=t.data})},methods:{onUpdateEmployee:function(e){var t=this;console.log(e);var a=this.employeeId;Object(o["m"])(a,e).then(function(e){t.$Notice.success({title:"更新员工信息成功"}),t.$router.go(-1)}).catch(function(e){return t.$Notice.error({title:"更新员工信息失败"})})},goBack:function(){this.$router.go(-1)}}},u=i,c=a("2877"),s=Object(c["a"])(u,r,n,!1,null,"ea8221fc",null);t["default"]=s.exports},ef75:function(e,t,a){"use strict";a.d(t,"i",function(){return n}),a.d(t,"g",function(){return o}),a.d(t,"h",function(){return l}),a.d(t,"j",function(){return i}),a.d(t,"k",function(){return u}),a.d(t,"m",function(){return c}),a.d(t,"e",function(){return s}),a.d(t,"f",function(){return m}),a.d(t,"a",function(){return p}),a.d(t,"d",function(){return d}),a.d(t,"c",function(){return f}),a.d(t,"l",function(){return b}),a.d(t,"b",function(){return v});var r=a("b775"),n=function(e,t,a,n){return r["a"].get("/api/employee/query",{params:{entityType:e,entityId:t,page:a,size:n}})},o=function(e){return r["a"].get("/api/employee/".concat(e))},l=function(e){return r["a"].post("/api/employee",e)},i=function(e){return r["a"].get("/api/employee/owner",{params:e})},u=function(e){return r["a"].post("/api/employee/restore","",{params:{employeeId:e}})},c=function(e,t){return r["a"].post("/api/employee/update",t,{params:{employeeId:e}})},s=function(e){return r["a"].get("/api/employee/".concat(e,"/attachments"))},m=function(e,t,a){return r["a"].get("/api/contract/",{params:{page:t,size:a,employeeId:e}})},p=function(e,t){return r["a"].post("/api/adjustment",t,{params:{employeeId:e}})},d=function(e,t,a){return r["a"].get("/api/adjustment",{params:{page:t,size:a,employeeId:e}})},f=function(e,t){return r["a"].post("/api/adjustment/discharge",t,{params:{employeeId:e}})},b=function(e,t){return r["a"].post("/api/adjustment/".concat(e),t)},v=function(e,t){return t.set("employeeId",e),r["a"].post("/api/employee/password",t)}}}]);
//# sourceMappingURL=chunk-559359b4.886e11ad.js.map